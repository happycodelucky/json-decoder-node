"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function toSet(value, itemMarshaller, strict) {
    if (value === undefined) {
        return undefined;
    }
    if (value === null) {
        if (strict) {
            throw new TypeError('\'null\' cannot be converted to a Set');
        }
        return undefined;
    }
    if (Array.isArray(value)) {
        if (itemMarshaller) {
            value = value.map(item => itemMarshaller(item, strict));
        }
        return new Set(value);
    }
    const set = new Set();
    set.add(itemMarshaller ? itemMarshaller(value, strict) : value);
    return set;
}
exports.toSet = toSet;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0LW1hcnNoYWxsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbWFyc2hhbGxlcnMvc2V0LW1hcnNoYWxsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFTQSxlQUFzQixLQUFVLEVBQUUsY0FBc0QsRUFBRSxNQUFnQjtJQUN0RyxJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUU7UUFDckIsT0FBTyxTQUFTLENBQUE7S0FDbkI7SUFFRCxJQUFJLEtBQUssS0FBSyxJQUFJLEVBQUU7UUFDaEIsSUFBSSxNQUFNLEVBQUU7WUFDUixNQUFNLElBQUksU0FBUyxDQUFDLHVDQUF1QyxDQUFDLENBQUE7U0FDL0Q7UUFFRCxPQUFPLFNBQVMsQ0FBQTtLQUNuQjtJQUVELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUN0QixJQUFJLGNBQWMsRUFBRTtZQUNoQixLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQTtTQUMxRDtRQUVELE9BQU8sSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7S0FDeEI7SUFFRCxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFBO0lBQ3JCLEdBQUcsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUUvRCxPQUFPLEdBQUcsQ0FBQTtBQUNkLENBQUM7QUF6QkQsc0JBeUJDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb252ZXJ0cyBhIEpTT04gdmFsdWUgdG8gYSBTZXQsIGlmIHBvc3NpYmxlLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBTZXRcbiAqIEBwYXJhbSBpdGVtTWFyc2hhbGxlciAtIGl0ZW0gbWFyc2hhbGxlciBmdW5jdGlvblxuICogQHBhcmFtIHN0cmljdCAtIHdoZW4gdHJ1ZSwgcGFyc2luZyBpcyBzdHJpY3QgYW5kIHRocm93cyBhIFR5cGVFcnJvciBpZiB0aGUgdmFsdWUgY2Fubm90IGJlIGNvbnZlcnRlZFxuICpcbiAqIEByZXR1cm5zIGEgc2V0LCBvZiB0aGUgdmFsdWUsIG9yIHRoZSB2YWx1ZSBpdHNlbGYuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1NldCh2YWx1ZTogYW55LCBpdGVtTWFyc2hhbGxlcj86ICh2YWx1ZTogYW55LCBzdHJpY3Q/OiBib29sZWFuKSA9PiBhbnksIHN0cmljdD86IGJvb2xlYW4pOiBTZXQ8YW55PiB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cblxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcXCdudWxsXFwnIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gYSBTZXQnKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBpZiAoaXRlbU1hcnNoYWxsZXIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUubWFwKGl0ZW0gPT4gaXRlbU1hcnNoYWxsZXIoaXRlbSwgc3RyaWN0KSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgU2V0KHZhbHVlKVxuICAgIH1cblxuICAgIGNvbnN0IHNldCA9IG5ldyBTZXQoKVxuICAgIHNldC5hZGQoaXRlbU1hcnNoYWxsZXIgPyBpdGVtTWFyc2hhbGxlcih2YWx1ZSwgc3RyaWN0KSA6IHZhbHVlKVxuXG4gICAgcmV0dXJuIHNldFxufVxuIl19