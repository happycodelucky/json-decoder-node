"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toSet = void 0;
function toSet(value, itemMarshaller, strict) {
    if (value === undefined) {
        return undefined;
    }
    if (value === null) {
        if (strict) {
            throw new TypeError('\'null\' cannot be converted to a Set');
        }
        return undefined;
    }
    if (Array.isArray(value)) {
        if (itemMarshaller) {
            value = value.map(item => itemMarshaller(item, strict));
        }
        return new Set(value);
    }
    const set = new Set();
    set.add(itemMarshaller ? itemMarshaller(value, strict) : value);
    return set;
}
exports.toSet = toSet;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0LW1hcnNoYWxsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbWFyc2hhbGxlcnMvc2V0LW1hcnNoYWxsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBU0EsU0FBZ0IsS0FBSyxDQUFDLEtBQVUsRUFBRSxjQUFzRCxFQUFFLE1BQWdCO0lBQ3RHLElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtRQUNyQixPQUFPLFNBQVMsQ0FBQTtLQUNuQjtJQUVELElBQUksS0FBSyxLQUFLLElBQUksRUFBRTtRQUNoQixJQUFJLE1BQU0sRUFBRTtZQUNSLE1BQU0sSUFBSSxTQUFTLENBQUMsdUNBQXVDLENBQUMsQ0FBQTtTQUMvRDtRQUVELE9BQU8sU0FBUyxDQUFBO0tBQ25CO0lBRUQsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3RCLElBQUksY0FBYyxFQUFFO1lBQ2hCLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFBO1NBQzFEO1FBRUQsT0FBTyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtLQUN4QjtJQUVELE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUE7SUFDckIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBRS9ELE9BQU8sR0FBRyxDQUFBO0FBQ2QsQ0FBQztBQXpCRCxzQkF5QkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnZlcnRzIGEgSlNPTiB2YWx1ZSB0byBhIFNldCwgaWYgcG9zc2libGUuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gdmFsdWUgdG8gY29udmVydCB0byBhIFNldFxuICogQHBhcmFtIGl0ZW1NYXJzaGFsbGVyIC0gaXRlbSBtYXJzaGFsbGVyIGZ1bmN0aW9uXG4gKiBAcGFyYW0gc3RyaWN0IC0gd2hlbiB0cnVlLCBwYXJzaW5nIGlzIHN0cmljdCBhbmQgdGhyb3dzIGEgVHlwZUVycm9yIGlmIHRoZSB2YWx1ZSBjYW5ub3QgYmUgY29udmVydGVkXG4gKlxuICogQHJldHVybnMgYSBzZXQsIG9mIHRoZSB2YWx1ZSwgb3IgdGhlIHZhbHVlIGl0c2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU2V0KHZhbHVlOiBhbnksIGl0ZW1NYXJzaGFsbGVyPzogKHZhbHVlOiBhbnksIHN0cmljdD86IGJvb2xlYW4pID0+IGFueSwgc3RyaWN0PzogYm9vbGVhbik6IFNldDxhbnk+IHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1xcJ251bGxcXCcgY2Fubm90IGJlIGNvbnZlcnRlZCB0byBhIFNldCcpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmIChpdGVtTWFyc2hhbGxlcikge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoaXRlbSA9PiBpdGVtTWFyc2hhbGxlcihpdGVtLCBzdHJpY3QpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWUpXG4gICAgfVxuXG4gICAgY29uc3Qgc2V0ID0gbmV3IFNldCgpXG4gICAgc2V0LmFkZChpdGVtTWFyc2hhbGxlciA/IGl0ZW1NYXJzaGFsbGVyKHZhbHVlLCBzdHJpY3QpIDogdmFsdWUpXG5cbiAgICByZXR1cm4gc2V0XG59XG4iXX0=