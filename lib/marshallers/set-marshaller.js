"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function toSet(value, itemMarshaller, strict) {
    if (value === undefined) {
        return undefined;
    }
    if (value === null) {
        if (strict) {
            throw new TypeError('\'null\' cannot be converted to a Set');
        }
        return undefined;
    }
    if (Array.isArray(value)) {
        if (itemMarshaller) {
            value = value.map(item => itemMarshaller(item, strict));
        }
        return new Set(value);
    }
    const set = new Set();
    set.add(itemMarshaller ? itemMarshaller(value, strict) : value);
    return set;
}
exports.toSet = toSet;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0LW1hcnNoYWxsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbWFyc2hhbGxlcnMvc2V0LW1hcnNoYWxsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFTQSxTQUFnQixLQUFLLENBQUMsS0FBVSxFQUFFLGNBQXNELEVBQUUsTUFBZ0I7SUFDdEcsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1FBQ3JCLE9BQU8sU0FBUyxDQUFBO0tBQ25CO0lBRUQsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFO1FBQ2hCLElBQUksTUFBTSxFQUFFO1lBQ1IsTUFBTSxJQUFJLFNBQVMsQ0FBQyx1Q0FBdUMsQ0FBQyxDQUFBO1NBQy9EO1FBRUQsT0FBTyxTQUFTLENBQUE7S0FDbkI7SUFFRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDdEIsSUFBSSxjQUFjLEVBQUU7WUFDaEIsS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUE7U0FDMUQ7UUFFRCxPQUFPLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0tBQ3hCO0lBRUQsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQTtJQUNyQixHQUFHLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7SUFFL0QsT0FBTyxHQUFHLENBQUE7QUFDZCxDQUFDO0FBekJELHNCQXlCQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBKU09OIHZhbHVlIHRvIGEgU2V0LCBpZiBwb3NzaWJsZS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgU2V0XG4gKiBAcGFyYW0gaXRlbU1hcnNoYWxsZXIgLSBpdGVtIG1hcnNoYWxsZXIgZnVuY3Rpb25cbiAqIEBwYXJhbSBzdHJpY3QgLSB3aGVuIHRydWUsIHBhcnNpbmcgaXMgc3RyaWN0IGFuZCB0aHJvd3MgYSBUeXBlRXJyb3IgaWYgdGhlIHZhbHVlIGNhbm5vdCBiZSBjb252ZXJ0ZWRcbiAqXG4gKiBAcmV0dXJucyBhIHNldCwgb2YgdGhlIHZhbHVlLCBvciB0aGUgdmFsdWUgaXRzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TZXQodmFsdWU6IGFueSwgaXRlbU1hcnNoYWxsZXI/OiAodmFsdWU6IGFueSwgc3RyaWN0PzogYm9vbGVhbikgPT4gYW55LCBzdHJpY3Q/OiBib29sZWFuKTogU2V0PGFueT4gfCB1bmRlZmluZWQge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXFwnbnVsbFxcJyBjYW5ub3QgYmUgY29udmVydGVkIHRvIGEgU2V0JylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGl0ZW1NYXJzaGFsbGVyKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLm1hcChpdGVtID0+IGl0ZW1NYXJzaGFsbGVyKGl0ZW0sIHN0cmljdCkpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFNldCh2YWx1ZSlcbiAgICB9XG5cbiAgICBjb25zdCBzZXQgPSBuZXcgU2V0KClcbiAgICBzZXQuYWRkKGl0ZW1NYXJzaGFsbGVyID8gaXRlbU1hcnNoYWxsZXIodmFsdWUsIHN0cmljdCkgOiB2YWx1ZSlcblxuICAgIHJldHVybiBzZXRcbn1cbiJdfQ==