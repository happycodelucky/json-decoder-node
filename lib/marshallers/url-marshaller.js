"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const url_1 = require("url");
function toURL(value, strict = false) {
    if (value === undefined) {
        return undefined;
    }
    if (Array.isArray(value)) {
        if (strict) {
            throw new TypeError(`'${value}' does not represent a Boolean`);
        }
        if (value.length > 0) {
            return toURL(value[0], strict);
        }
        else {
            return undefined;
        }
    }
    if (typeof value === 'string') {
        try {
            return new url_1.URL(value);
        }
        catch (_a) { }
    }
    if (strict) {
        throw new TypeError(`${typeof value} cannot be converted to a URL`);
    }
    return undefined;
}
exports.toURL = toURL;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXJsLW1hcnNoYWxsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbWFyc2hhbGxlcnMvdXJsLW1hcnNoYWxsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2QkFBeUI7QUFVekIsU0FBZ0IsS0FBSyxDQUFDLEtBQVUsRUFBRSxTQUFrQixLQUFLO0lBQ3JELElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtRQUNyQixPQUFPLFNBQVMsQ0FBQTtLQUNuQjtJQUdELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUN0QixJQUFJLE1BQU0sRUFBRTtZQUNSLE1BQU0sSUFBSSxTQUFTLENBQUMsSUFBSSxLQUFLLGdDQUFnQyxDQUFDLENBQUE7U0FDakU7UUFFRCxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ2xCLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQTtTQUNqQzthQUFNO1lBQ0gsT0FBTyxTQUFTLENBQUE7U0FDbkI7S0FDSjtJQUVELElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1FBQzNCLElBQUk7WUFDQSxPQUFPLElBQUksU0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQ3hCO1FBQUMsV0FBTSxHQUFHO0tBQ2Q7SUFFRCxJQUFJLE1BQU0sRUFBRTtRQUNSLE1BQU0sSUFBSSxTQUFTLENBQUMsR0FBRyxPQUFPLEtBQUssK0JBQStCLENBQUMsQ0FBQTtLQUN0RTtJQUVELE9BQU8sU0FBUyxDQUFBO0FBQ3BCLENBQUM7QUE3QkQsc0JBNkJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVVJMIH0gZnJvbSAndXJsJ1xuXG4vKipcbiAqIENvbnZlcnRzIGEgSlNPTiB2YWx1ZSB0byBhbiBVUkwsIGlmIHBvc3NpYmxlLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIGEgdmFsdWUgdG8gY29udmVydCB0byBhbiBVUkxcbiAqIEBwYXJhbSBzdHJpY3QgLSB3aGVuIHRydWUsIHBhcnNpbmcgaXMgc3RyaWN0IGFuZCB0aHJvd3MgYSBUeXBlRXJyb3IgaWYgdGhlIHZhbHVlIGNhbm5vdCBiZSBjb252ZXJ0ZWRcbiAqXG4gKiBAcmV0dXJuIEFuIFVSTCwgb3IgdW5kZWZpbmVkIGlmIHRoZSB2YWx1ZSBjb3VsZCBub3QgYmUgY29udmVydGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1VSTCh2YWx1ZTogYW55LCBzdHJpY3Q6IGJvb2xlYW4gPSBmYWxzZSk6IFVSTCB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgMCBpbmRleCBvZiBhbiBhcnJheVxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAnJHt2YWx1ZX0nIGRvZXMgbm90IHJlcHJlc2VudCBhIEJvb2xlYW5gKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0b1VSTCh2YWx1ZVswXSwgc3RyaWN0KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKHZhbHVlKVxuICAgICAgICB9IGNhdGNoIHsgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0eXBlb2YgdmFsdWV9IGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gYSBVUkxgKVxuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWRcbn1cbiJdfQ==