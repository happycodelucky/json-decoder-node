"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const url_1 = require("url");
function toURL(value, strict = false) {
    if (value === undefined) {
        return undefined;
    }
    if (Array.isArray(value)) {
        if (strict) {
            throw new TypeError(`'${value}' does not represent a Boolean`);
        }
        if (value.length > 0) {
            return toURL(value[0], strict);
        }
        else {
            return undefined;
        }
    }
    if (typeof value === 'string') {
        try {
            return new url_1.URL(value);
        }
        catch (_a) { }
    }
    if (strict) {
        throw new TypeError(`${typeof value} cannot be converted to a URL`);
    }
    return undefined;
}
exports.toURL = toURL;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXJsLW1hcnNoYWxsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbWFyc2hhbGxlcnMvdXJsLW1hcnNoYWxsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2QkFBeUI7QUFVekIsZUFBc0IsS0FBVSxFQUFFLFNBQWtCLEtBQUs7SUFDckQsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1FBQ3JCLE9BQU8sU0FBUyxDQUFBO0tBQ25CO0lBR0QsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3RCLElBQUksTUFBTSxFQUFFO1lBQ1IsTUFBTSxJQUFJLFNBQVMsQ0FBQyxJQUFJLEtBQUssZ0NBQWdDLENBQUMsQ0FBQTtTQUNqRTtRQUVELElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDbEIsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFBO1NBQ2pDO2FBQU07WUFDSCxPQUFPLFNBQVMsQ0FBQTtTQUNuQjtLQUNKO0lBRUQsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7UUFDM0IsSUFBSTtZQUNBLE9BQU8sSUFBSSxTQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7U0FDeEI7UUFBQyxXQUFNLEdBQUc7S0FDZDtJQUVELElBQUksTUFBTSxFQUFFO1FBQ1IsTUFBTSxJQUFJLFNBQVMsQ0FBQyxHQUFHLE9BQU8sS0FBSywrQkFBK0IsQ0FBQyxDQUFBO0tBQ3RFO0lBRUQsT0FBTyxTQUFTLENBQUE7QUFDcEIsQ0FBQztBQTdCRCxzQkE2QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVUkwgfSBmcm9tICd1cmwnXG5cbi8qKlxuICogQ29udmVydHMgYSBKU09OIHZhbHVlIHRvIGFuIFVSTCwgaWYgcG9zc2libGUuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gYSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIFVSTFxuICogQHBhcmFtIHN0cmljdCAtIHdoZW4gdHJ1ZSwgcGFyc2luZyBpcyBzdHJpY3QgYW5kIHRocm93cyBhIFR5cGVFcnJvciBpZiB0aGUgdmFsdWUgY2Fubm90IGJlIGNvbnZlcnRlZFxuICpcbiAqIEByZXR1cm4gQW4gVVJMLCBvciB1bmRlZmluZWQgaWYgdGhlIHZhbHVlIGNvdWxkIG5vdCBiZSBjb252ZXJ0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVVJMKHZhbHVlOiBhbnksIHN0cmljdDogYm9vbGVhbiA9IGZhbHNlKTogVVJMIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCAwIGluZGV4IG9mIGFuIGFycmF5XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCcke3ZhbHVlfScgZG9lcyBub3QgcmVwcmVzZW50IGEgQm9vbGVhbmApXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRvVVJMKHZhbHVlWzBdLCBzdHJpY3QpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVUkwodmFsdWUpXG4gICAgICAgIH0gY2F0Y2ggeyB9XG4gICAgfVxuXG4gICAgaWYgKHN0cmljdCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3R5cGVvZiB2YWx1ZX0gY2Fubm90IGJlIGNvbnZlcnRlZCB0byBhIFVSTGApXG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZFxufVxuIl19