"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function toArray(value, itemMarshaller, strict) {
    if (value === undefined) {
        return undefined;
    }
    if (value === null) {
        if (strict) {
            throw new TypeError('\'null\' cannot be converted to an Array');
        }
        return undefined;
    }
    if (Array.isArray(value)) {
        if (itemMarshaller) {
            return value.map(item => itemMarshaller(item, strict));
        }
        return value;
    }
    return [itemMarshaller ? itemMarshaller(value, strict) : value];
}
exports.toArray = toArray;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJyYXktbWFyc2hhbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tYXJzaGFsbGVycy9hcnJheS1tYXJzaGFsbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBU0EsU0FBZ0IsT0FBTyxDQUFDLEtBQVUsRUFBRSxjQUFzRCxFQUFFLE1BQWdCO0lBQ3hHLElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtRQUNyQixPQUFPLFNBQVMsQ0FBQTtLQUNuQjtJQUNELElBQUksS0FBSyxLQUFLLElBQUksRUFBRTtRQUNoQixJQUFJLE1BQU0sRUFBRTtZQUNSLE1BQU0sSUFBSSxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtTQUNsRTtRQUVELE9BQU8sU0FBUyxDQUFBO0tBQ25CO0lBRUQsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3RCLElBQUksY0FBYyxFQUFFO1lBQ2hCLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQTtTQUN6RDtRQUVELE9BQU8sS0FBSyxDQUFBO0tBQ2Y7SUFFRCxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUNuRSxDQUFDO0FBckJELDBCQXFCQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBKU09OIHZhbHVlIHRvIGFuIEFycmF5LCBpZiBwb3NzaWJsZS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgQm9vbGVhblxuICogQHBhcmFtIGl0ZW1NYXJzaGFsbGVyIC0gaXRlbSBtYXJzaGFsbGVyIGZ1bmN0aW9uXG4gKiBAcGFyYW0gc3RyaWN0IC0gd2hlbiB0cnVlLCBwYXJzaW5nIGlzIHN0cmljdCBhbmQgdGhyb3dzIGEgVHlwZUVycm9yIGlmIHRoZSB2YWx1ZSBjYW5ub3QgYmUgY29udmVydGVkXG4gKlxuICogQHJldHVybnMgYW4gYXJyYXksIG9mIHRoZSB2YWx1ZSwgb3IgdGhlIHZhbHVlIGl0c2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkodmFsdWU6IGFueSwgaXRlbU1hcnNoYWxsZXI/OiAodmFsdWU6IGFueSwgc3RyaWN0PzogYm9vbGVhbikgPT4gYW55LCBzdHJpY3Q/OiBib29sZWFuKTogYW55W10gfCB1bmRlZmluZWQge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1xcJ251bGxcXCcgY2Fubm90IGJlIGNvbnZlcnRlZCB0byBhbiBBcnJheScpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmIChpdGVtTWFyc2hhbGxlcikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1hcChpdGVtID0+IGl0ZW1NYXJzaGFsbGVyKGl0ZW0sIHN0cmljdCkpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG5cbiAgICByZXR1cm4gW2l0ZW1NYXJzaGFsbGVyID8gaXRlbU1hcnNoYWxsZXIodmFsdWUsIHN0cmljdCkgOiB2YWx1ZV1cbn1cbiJdfQ==